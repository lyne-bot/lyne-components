// ----------------------------------------------------------------------------------------------------
// Panel Mixins: Achieve the styling of a panel
// ----------------------------------------------------------------------------------------------------

@mixin panel-variables {
  --panel-font-family: 'SBBWeb Light';
  --panel-letter-spacing: 0.01em;
  --panel-line-height: var(--sbb-typo-line-height-titles);
  --panel-font-size: var(--sbb-typo-scale-1-5x);
  --panel-color: var(--sbb-color-white-default);

  // TODO: replace by token
  --panel-background-color: rgb(235 0 0 / 90%);
  --panel-padding-block: var(--sbb-spacing-responsive-s);
  --panel-padding-inline: var(--sbb-spacing-responsive-m);
  --panel-gap: var(--sbb-spacing-responsive-xs);
  --panel-width: #{px-to-rem-build(223)};
  --panel-height: #{px-to-rem-build(167)};
  --panel-triangle-height: #{px-to-rem-build(33)};

  @include mq($from: medium) {
    --panel-font-size: var(--sbb-typo-scale-2x);
    --panel-width: #{px-to-rem-build(321)};
    --panel-height: #{px-to-rem-build(240.11)};
    --panel-triangle-height: #{px-to-rem-build(47.45)};
  }

  @include mq($from: large) {
    --panel-font-size: var(--sbb-typo-scale-2-5x);
    --panel-line-height: 1.2;
    --panel-width: #{px-to-rem-build(428)};
    --panel-height: #{px-to-rem-build(320.38)};
    --panel-triangle-height: #{px-to-rem-build(63.31)};
  }
}

@mixin panel {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: var(--panel-gap);
  width: var(--panel-width);
  height: calc(var(--panel-height) + var(--panel-triangle-height) * 2);
  padding: calc(var(--panel-padding-block) + var(--panel-triangle-height))
    var(--panel-padding-inline);
  clip-path: polygon(
    0 0,
    100% var(--panel-triangle-height),
    100% calc(100% - var(--panel-triangle-height)),
    0% 100%
  );
  background-color: var(--panel-background-color);
  transition: background var(--sbb-animation-duration-4x) var(--sbb-animation-easing);

  @include hover-mq($hover: true) {
    &:hover {
      --panel-background-color: var(--sbb-color-red-default);
    }
  }
}

@mixin panel-text {
  @include fontSmoothing;

  font-family: var(--panel-font-family);
  font-size: var(--panel-font-size);
  font-weight: normal;
  line-height: var(--panel-line-height);
  letter-spacing: var(--panel-letter-spacing);
  color: var(--panel-color);
}
