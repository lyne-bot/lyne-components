@use '../../global/styles' as sbb;

// Default component properties, defined for :host. Properties which can not
// travel the shadow boundary are defined through this mixin
@include sbb.host-component-properties;

:host {
  @include sbb.pearl-chain-bullet-variables;

  display: table-row;
  position: relative;

  --sbb-pearl-chain-vertical-right-item-width: 100%;
  --sbb-pearl-chain-vertical-item-border-width: var(--sbb-border-width-2x);
  --sbb-pearl-chain-vertical-item-border-width-thin: var(--sbb-border-width-1x);
  --sbb-pearl-chain-vertical-item-spacing-small: var(--sbb-spacing-fixed-1x);
  --sbb-pearl-chain-vertical-item-spacing-medium: var(--sbb-spacing-fixed-4x);
  --sbb-pearl-chain-vertical-item-color: var(--sbb-pearl-chain-bullet-color);
  --sbb-pearl-chain-vertical-item-color-incidence: var(--sbb-pearl-chain-bullet-color-incidence);
  --sbb-pearl-chain-vertical-item-color-past: var(--sbb-pearl-chain-bullet-color-past);
  --sbb-pearl-chain-vertical-item-color-walk: var(--sbb-pearl-chain-bullet-color-walk);
  --sbb-pearl-chain-vertical-item-inline-start: 50%;
  --sbb-pearl-chain-vertical-item-transform: translateX(-50%);
}

.sbb-pearl-chain-vertical-item__bullet {
  position: relative;
  inset-inline-start: var(--sbb-pearl-chain-vertical-item-inline-start);
  transform: var(--sbb-pearl-chain-vertical-item-transform);
}

.sbb-pearl-chain-vertical-item-position__bullet--disable-animation {
  animation: unset !important;
}

.sbb-pearl-chain-vertical-item__bullet-size--xs {
  @include sbb.pearl-chain-bullet--xs;
}

.sbb-pearl-chain-vertical-item__bullet-size--s {
  @include sbb.pearl-chain-bullet--s;
}

.sbb-pearl-chain-vertical-item__bullet-size--m {
  @include sbb.pearl-chain-bullet--m;
}

.sbb-pearl-chain-vertical-item__bullet-size--l {
  @include sbb.pearl-chain-bullet--l;
}

.sbb-pearl-chain-vertical-item__bullet-size--xl {
  @include sbb.pearl-chain-bullet--xl;
}

.sbb-pearl-chain-vertical-item__bullet-size--xs.sbb-pearl-chain-vertical-item__bullet--crossed,
.sbb-pearl-chain-vertical-item__bullet-size--s.sbb-pearl-chain-vertical-item__bullet--crossed {
  @include sbb.pearl-chain-bullet-crossed--s;
}

.sbb-pearl-chain-vertical-item__bullet-size--m.sbb-pearl-chain-vertical-item__bullet--crossed {
  @include sbb.pearl-chain-bullet-crossed;
}

.sbb-pearl-chain-vertical-item__bullet-size--l.sbb-pearl-chain-vertical-item__bullet--crossed,
.sbb-pearl-chain-vertical-item__bullet-size--xl.sbb-pearl-chain-vertical-item__bullet--crossed {
  @include sbb.pearl-chain-bullet-crossed--xl;
}

.sbb-pearl-chain-vertical-item__line {
  position: absolute;
  bottom: 0;
  flex: 1 1 0%;
  inset-inline-start: var(--sbb-pearl-chain-vertical-item-inline-start);
  transform: var(--sbb-pearl-chain-vertical-item-transform);
  width: var(--sbb-border-width-2x);
  inset-block-start: calc(var(--sbb-pearl-chain-bullet-size) / 2);

  &::after {
    content: '';
    position: absolute;
    inset-inline-start: 0;
    inset-block-start: 0;
    height: var(--sbb-pearl-chain-vertical-item-leg-status);
    width: var(--sbb-pearl-chain-vertical-item-border-width);
    background-color: var(--sbb-pearl-chain-vertical-item-color-past);
  }
}

.sbb-pearl-chain-vertical-item-position__bullet {
  @include sbb.pearl-chain-bullet-position;
  @include sbb.absolute-center-x;

  inset-block-start: var(--sbb-pearl-chain-vertical-item-position);
}

.sbb-pearl-chain-vertical-item__line--dotted {
  background-color: unset;
  border-color: unset;
  background-image: linear-gradient(to bottom, currentcolor 0%, currentcolor 50%, Canvas 50%);
  background-repeat: repeat-y;
  background-size: calc(2 * var(--sbb-pearl-chain-vertical-item-spacing-small))
    var(--sbb-pearl-chain-vertical-item-spacing-small);
}

.sbb-pearl-chain-vertical-item__line--thin {
  width: var(--sbb-pearl-chain-vertical-item-border-width-thin);
}

.sbb-pearl-chain-vertical-item__bullet--standard {
  @include sbb.pearl-chain-bullet;
}

.sbb-pearl-chain-vertical-item__bullet--thick {
  @include sbb.pearl-chain-bullet-transfer;
}

.sbb-pearl-chain-vertical-item__bullet--thin {
  @include sbb.pearl-chain-bullet-thin;
}

.sbb-pearl-chain-vertical-item__bullet--double {
  @include sbb.pearl-chain-bullet-double;
}

.sbb-color--charcoal {
  background-color: var(--sbb-pearl-chain-vertical-item-color);
  border-color: var(--sbb-pearl-chain-vertical-item-color);
  color: var(--sbb-pearl-chain-vertical-item-color);
}

.sbb-color--red {
  border-color: var(--sbb-pearl-chain-vertical-item-color-incidence);
  background-color: var(--sbb-pearl-chain-vertical-item-color-incidence);
  color: var(--sbb-pearl-chain-vertical-item-color-incidence);
}

.sbb-color--metal {
  border-color: var(--sbb-pearl-chain-vertical-item-color-past);
  background-color: var(--sbb-pearl-chain-vertical-item-color-past);
  color: var(--sbb-pearl-chain-vertical-item-color-past);
}

.sbb-color--sky {
  border-color: var(--sbb-pearl-chain-vertical-item-color-walk);
  background-color: var(--sbb-pearl-chain-vertical-item-color-walk);
  color: var(--sbb-pearl-chain-vertical-item-color-walk);
}

.sbb-pearl-chain-vertical-item__column {
  display: table-cell;
  position: relative;
  vertical-align: top;
}

.sbb-pearl-chain-vertical-item__column--right {
  width: var(--sbb-pearl-chain-vertical-right-item-width);
}

.sbb-pearl-chain-vertical-item__column--middle {
  width: var(--sbb-pearl-chain-vertical-middle-item-width, --sbb-pearl-chain-bullet-size);
}

slot[name='left']::slotted(*) {
  margin-block-start: var(--sbb-pearl-chain-vertical-left-item-block-start);
  padding-inline-end: var(--sbb-pearl-chain-vertical-left-item-inline-end);
}

slot[name='right']::slotted(*) {
  margin-block-start: var(--sbb-pearl-chain-vertical-right-item-block-start);
  padding-inline-start: var(--sbb-pearl-chain-vertical-right-item-inline-start);
}

.sbb-pearl-chain-vertical-item__middle {
  vertical-align: top;
  border-spacing: 0;
}
