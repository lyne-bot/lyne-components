// Default component properties, defined for :host. Properties which can not
// travel the shadow boundary are defined through this mixin
@include host-component-properties;

:host {
  --panel-font-family: 'SBBWeb Light';
  --panel-letter-spacing: 0.01em;
  --panel-line-height: 1.2;
  --panel-font-size-text-xxl: var(--sbb-typo-scale-1-5x);
  --panel-opacity: var(--panel-opacity-override, 0.9);
  --panel-padding-inline: var(--sbb-spacing-responsive-m);
  --panel-padding-block: var(--sbb-spacing-responsive-s);
  --panel-background-color: var(--sbb-color-red-default);
  --text-margin-block-end: var(--sbb-spacing-fixed-6x);

  // TODO: missing design tokens
  --panel-width: #{px-to-rem-build(223)};
  --panel-height: #{px-to-rem-build(167)};
  --triangle-height: #{px-to-rem-build(33)};

  @include mq($from: medium) {
    // TODO: missing design tokens
    --panel-width: #{px-to-rem-build(321)};
    --panel-height: #{px-to-rem-build(240.11)};
    --triangle-height: #{px-to-rem-build(47.45)};
    --panel-line-height: 1.3;
  }

  @include mq($from: large) {
    // TODO: missing design tokens
    --panel-width: #{px-to-rem-build(428)};
    --panel-height: #{px-to-rem-build(320.38)};
    --triangle-height: #{px-to-rem-build(63.31)};
    --panel-font-size-text-xxl: var(--sbb-typo-scale-2-5x);
  }

  --sbb-focus-outline-color: var(
    --sbb-focus-outline-color-override,
    var(--sbb-focus-outline-color-default)
  );

  opacity: var(--panel-opacity);
}

.panel {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: var(--panel-width);
  min-height: calc(var(--panel-height) + var(--triangle-height) * 2);
  padding: calc(var(--sbb-spacing-responsive-s) + var(--triangle-height))
    var(--sbb-spacing-responsive-m);

  &::before {
    content: '';
    position: absolute;
    width: var(--panel-width);
    height: calc(var(--panel-height) + var(--triangle-height) * 2);
    background-color: var(--sbb-color-red-default);
    left: 0;
    z-index: -1;
    clip-path: polygon(
      0 0,
      100% var(--triangle-height),
      100% calc(100% - calc(var(--triangle-height))),
      0% 100%
    );
  }

  @include ifForcedColors {
    border: #{px-to-rem-build(1)} solid CanvasText;
  }
}

::slotted([slot='text']) {
  font-family: var(--panel-font-family);
  font-size: var(--panel-font-size-text-xxl);
  color: var(--sbb-color-white-default);
  line-height: var(--panel-line-height);
  margin-block-start: 0;
  margin-block-end: 0;
}

::slotted([slot='link']) {
  margin-block-start: var(--text-margin-block-end);
}
