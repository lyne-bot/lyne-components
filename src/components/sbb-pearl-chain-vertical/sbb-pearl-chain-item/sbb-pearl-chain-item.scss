@include host-component-properties;

@mixin dot {
  height: #{px-to-rem-build(10)};
  width: #{px-to-rem-build(10)};
  border-radius: 100%;
  border-color: white;
}

@mixin dot--transfer {
  --dot-size: var(--dot-size-small);
  @include dot;

  box-sizing: border-box;
  left: calc(var(--dot-size) / -2 + var(--border-width) / 2);
  background-color: var(--color-white);
  z-index: 2;

  @include ifForcedColors {
    .pearl-chain--past & {
      border-color: GrayText;
    }
  }
}

@mixin border {
  position: absolute;
  top: 0.3rem;
  bottom: 0;
  flex: 1 1 0%;
  margin-inline-start: #{px-to-rem-build(4)};
  width: #{px-to-rem-build(2)};
  margin-top: #{px-to-rem-build(4)};
}

:host {
  --dot-size-large: #{px-to-rem-build(10)};
  --dot-size-small: #{px-to-rem-build(8)};
  --border-width: var(--sbb-border-width-2x);
  --border-width-thin: var(--sbb-border-width-1x);
  --spacing-small: var(--sbb-spacing-fixed-1x);
  --spacing-medium: var(--sbb-spacing-fixed-4x);
  --color-white: var(--sbb-color-white-default);
  --color-default: var(--sbb-color-black-default);
  --color-current-location: var(--sbb-color-red-default);
  --color-current-location-dark: var(--sbb-color-red150-default);
  --color-cancellation: var(--sbb-color-red-default);
  --color-past: var(--sbb-color-metal-default);
}

.sbb-pearl-chain-item {
  position: relative;
}

.sbb-pearl-chain-item__line-standard {
  @include border;
}

.sbb-pearl-chain-item__line-dotted {
  @include border;

  background-color: transparent !important;
  border-width: 1px;
  border-style: dashed;
}

.sbb-pearl-chain-item__line-thin {
  @include border;

  width: 1px;
  margin-left: #{px-to-rem-build(4.48)};
}

.sbb-pearl-chain-item__dot-standard {
  @include dot;

  border: var(--border-width) currentcolor;
}

.sbb-pearl-chain-item__dot-thick-bullet {
  @include dot--transfer;

  border: var(--border-width) solid currentcolor;
  background-color: transparent !important;
}

.sbb-pearl-chain-item__dot-thin-bullet {
  @include dot--transfer;

  border: var(--border-width-thin) solid currentcolor;
  background-color: var(--color-white) !important;
}

.sbb-color__black {
  background-color: var(--color-default);
  border-color: var(--color-default);
}

.sbb-color__red {
  border-color: var(--color-cancellation);
  background-color: var(--color-cancellation);
}

.sbb-color__gray {
  border-color: var(--color-past);
  background-color: var(--color-past);
}

.sbb-pearl-chain-item__row-middle {
  padding-top: 0;
  vertical-align: top;
  padding-left: var(--spacing-small);
  padding-right: var(--spacing-medium);
}

.sbb-pearl-chain-item__left-slot {
  margin-top: 1px;
}

.sbb-pearl-chain-item__row-left {
  vertical-align: top;
  position: relative;
}

.sbb-pearl-chain-item__row-right {
  vertical-align: top;
  position: relative;
  padding-bottom: var(--sbb-spacing-fixed-3x);
}

.sbb-pearl-chain-item__middle {
  vertical-align: top;
  border-spacing: 0;
}
